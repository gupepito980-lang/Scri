-- Shadow Hub v1.0 by Grok
-- Ejecuta en tu executor de Roblox (Synapse, Krnl, etc.)
-- Key: shadow123
-- Toggle: Insert

if getgenv().ShadowLoaded then return end
getgenv().ShadowLoaded = true

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")

local Player = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ShadowHub"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false

local btnColor = Color3.fromRGB(255, 120, 120)
local btnHover = Color3.fromRGB(220, 80, 80)
local gray = Color3.fromRGB(60, 60, 60)
local bgSec = Color3.fromRGB(20, 20, 20)
local textWhite = Color3.new(1, 1, 1)

local selectedPlayer = nil

local function notify(msg)
    StarterGui:SetCore("SendNotification", {
        Title = "shadow";
        Text = msg;
        Duration = 3;
    })
end

local function resetSkin()
    local char = Player.Character
    if char then
        for _, v in ipairs(char:GetChildren()) do
            if v:IsA("Accessory") or v:IsA("Shirt") or v:IsA("Pants") then
                v:Destroy()
            end
        end
        notify("¡Skin normal aplicada!")
    else
        notify("¡Espera a que cargue tu personaje!")
    end
end

local function copySkin(target)
    local targetChar = target.Character
    local myChar = Player.Character
    if not targetChar or not targetChar:FindFirstChild("Humanoid") then
        notify("¡El objetivo no tiene personaje!")
        return
    end
    if not myChar or not myChar:FindFirstChild("Humanoid") then
        notify("¡Espera a que cargue tu personaje!")
        return
    end
    local desc = targetChar.Humanoid:GetAppliedDescription()
    myChar.Humanoid:ApplyDescription(desc)
    notify("¡Skin copiada!")
end

local function tpTo(target)
    local targetChar = target.Character
    local myChar = Player.Character
    if not myChar or not myChar:FindFirstChild("HumanoidRootPart") then
        notify("¡Espera a que cargue tu personaje!")
        return
    end
    if not targetChar or not targetChar:FindFirstChild("HumanoidRootPart") then
        notify("¡El objetivo no tiene personaje!")
        return
    end
    myChar.HumanoidRootPart.CFrame = targetChar.HumanoidRootPart.CFrame * CFrame.new(0, 0, -3)
    notify("¡Teleportado!")
end

local function makeDraggable(frame)
    local dragging = false
    local dragInput = nil
    local dragStart = nil
    local startPos = nil

    local function updateInput(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputType == Enum.UserInputType.MouseMovement then
                    updateInput(input)
                end
            end)
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
            updateInput(input)
        end
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

local function addButtonEffects(btn, idle, hover)
    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {BackgroundColor3 = hover}):Play()
    end)
    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {BackgroundColor3 = idle}):Play()
    end)
end

-- Key Frame
local KeyFrame = Instance.new("Frame")
KeyFrame.Name = "KeyFrame"
KeyFrame.Size = UDim2.new(0, 350, 0, 220)
KeyFrame.Position = UDim2.new(0.5, -175, 0.5, -110)
KeyFrame.BackgroundColor3 = Color3.new(0, 0, 0)
KeyFrame.BorderSizePixel = 0
KeyFrame.Parent = ScreenGui

local keyCorner = Instance.new("UICorner")
keyCorner.CornerRadius = UDim.new(0, 15)
keyCorner.Parent = KeyFrame

makeDraggable(KeyFrame)

local keyTitle = Instance.new("TextLabel")
keyTitle.Size = UDim2.new(1, 0, 0, 60)
keyTitle.BackgroundTransparency = 1
keyTitle.Text = "Shadow Hub - Introduce la Key"
keyTitle.TextColor3 = btnColor
keyTitle.TextScaled = true
keyTitle.Font = Enum.Font.GothamBold
keyTitle.Parent = KeyFrame

local keyBox = Instance.new("TextBox")
keyBox.Size = UDim2.new(0.8, 0, 0, 45)
keyBox.Position = UDim2.new(0.1, 0, 0.4, 0)
keyBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
keyBox.TextColor3 = textWhite
keyBox.PlaceholderText = "shadow123"
keyBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
keyBox.TextScaled = true
keyBox.Font = Enum.Font.Gotham
keyBox.ClearTextOnFocus = false
local boxCorner = Instance.new("UICorner")
boxCorner.CornerRadius = UDim.new(0, 10)
boxCorner.Parent = keyBox
keyBox.Parent = KeyFrame

local enterBtn = Instance.new("TextButton")
enterBtn.Size = UDim2.new(0.8, 0, 0, 45)
enterBtn.Position = UDim2.new(0.1, 0, 0.65, 0)
enterBtn.BackgroundColor3 = btnColor
enterBtn.TextColor3 = textWhite
enterBtn.Text = "VERIFICAR"
enterBtn.TextScaled = true
enterBtn.Font = Enum.Font.GothamBold
local enterCorner = Instance.new("UICorner")
enterCorner.CornerRadius = UDim.new(0, 10)
enterCorner.Parent = enterBtn
enterBtn.Parent = KeyFrame

addButtonEffects(enterBtn, btnColor, btnHover)

enterBtn.MouseButton1Click:Connect(function()
    if keyBox.Text == "shadow123" then
        KeyFrame:Destroy()
        createMainHub()
    else
        notify("¡Clave incorrecta!")
        keyBox.Text = ""
    end
end)

keyBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        enterBtn.MouseButton1Click:Fire()
    end
end)

-- Main Hub Function
function createMainHub()
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 420, 0, 500)
    MainFrame.Position = UDim2.new(0.5, -210, 0.5, -250)
    MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
    MainFrame.BorderSizePixel = 0
    MainFrame.Visible = true
    MainFrame.Parent = ScreenGui

    local mainCorner = Instance.new("UICorner")
    mainCorner.CornerRadius = UDim.new(0, 20)
    mainCorner.Parent = MainFrame

    makeDraggable(MainFrame)

    local mainTitle = Instance.new("TextLabel")
    mainTitle.Size = UDim2.new(1, 0, 0, 70)
    mainTitle.BackgroundTransparency = 1
    mainTitle.Text = "shadow"
    mainTitle.TextColor3 = btnColor
    mainTitle.TextScaled = true
    mainTitle.Font = Enum.Font.GothamBold
    mainTitle.Parent = MainFrame

    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 35, 0, 35)
    closeBtn.Position = UDim2.new(1, -40, 0, 10)
    closeBtn.BackgroundColor3 = btnHover
    closeBtn.TextColor3 = textWhite
    closeBtn.Text = "X"
    closeBtn.TextScaled = true
    closeBtn.Font = Enum.Font.GothamBold
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 8)
    closeCorner.Parent = closeBtn
    closeBtn.Parent = MainFrame

    addButtonEffects(closeBtn, btnHover, Color3.fromRGB(180, 60, 60))

    closeBtn.MouseButton1Click:Connect(function()
        MainFrame.Visible = false
    end)

    -- Player Section
    local playerSection = Instance.new("Frame")
    playerSection.Size = UDim2.new(1, -20, 0, 170)
    playerSection.Position = UDim2.new(0, 10, 0, 80)
    playerSection.BackgroundColor3 = bgSec
    playerSection.BorderSizePixel = 0
    playerSection.Parent = MainFrame

    local pSectionCorner = Instance.new("UICorner")
    pSectionCorner.CornerRadius = UDim.new(0, 12)
    pSectionCorner.Parent = playerSection

    local playerTitle = Instance.new("TextLabel")
    playerTitle.Size = UDim2.new(1, 0, 0, 35)
    playerTitle.BackgroundTransparency = 1
    playerTitle.Text = "Seleccionar Jugador"
    playerTitle.TextColor3 = textWhite
    playerTitle.TextScaled = true
    playerTitle.Font = Enum.Font.GothamSemibold
    playerTitle.Parent = playerSection

    local playerListFrame = Instance.new("ScrollingFrame")
    playerListFrame.Size = UDim2.new(1, -10, 1, -45)
    playerListFrame.Position = UDim2.new(0, 5, 0, 40)
    playerListFrame.BackgroundTransparency = 1
    playerListFrame.BorderSizePixel = 0
    playerListFrame.ScrollBarThickness = 8
    playerListFrame.ScrollBarImageColor3 = btnColor
    playerListFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    playerListFrame.Parent = playerSection

    local playerListLayout = Instance.new("UIListLayout")
    playerListLayout.SortOrder = Enum.SortOrder.Name
    playerListLayout.Padding = UDim.new(0, 5)
    playerListLayout.Parent = playerListFrame

    local function updateCanvas()
        playerListFrame.CanvasSize = UDim2.new(0, 0, 0, playerListLayout.AbsoluteContentSize.Y + 10)
    end
    playerListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(updateCanvas)

    local function updatePlayerList()
        for _, child in pairs(playerListFrame:GetChildren()) do
            if child:IsA("TextButton") then
                child:Destroy()
            end
        end
        for _, p in pairs(Players:GetPlayers()) do
            if p \~= Player then
                local btn = Instance.new("TextButton")
                btn.Size = UDim2.new(1, -10, 0, 35)
                btn.BackgroundColor3 = gray
                btn.Text = p.DisplayName .. " (" .. p.Name .. ")"
                btn.TextColor3 = textWhite
                btn.TextScaled = true
                btn.Font = Enum.Font.Gotham
                btn.BorderSizePixel = 0
                local btnPcorner = Instance.new("UICorner")
                btnPcorner.CornerRadius = UDim.new(0, 8)
                btnPcorner.Parent = btn
                btn.Parent = playerListFrame

                btn.MouseButton1Click:Connect(function()
                    selectedPlayer = p
                    for _, b in pairs(playerListFrame:GetChildren()) do
                        if b:IsA("TextButton") then
                            b.BackgroundColor3 = gray
                        end
                    end
                    btn.BackgroundColor3 = btnColor
                end)

                btn.MouseEnter:Connect(function()
                    if btn.BackgroundColor3 \~= btnColor then
                        TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 80, 80)}):Play()
                    end
                end)

                btn.MouseLeave:Connect(function()
                    if btn.BackgroundColor3 \~= btnColor then
                        TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = gray}):Play()
                    end
                end)
            end
        end
        updateCanvas()
    end

    updatePlayerList()
    Players.PlayerAdded:Connect(updatePlayerList)
    Players.PlayerRemoving:Connect(function(p)
        if selectedPlayer == p then
            selectedPlayer = nil
        end
        updatePlayerList()
    end)

    -- Buttons Section
    local buttonsFrame = Instance.new("Frame")
    buttonsFrame.Size = UDim2.new(1, -20, 0, 220)
    buttonsFrame.Position = UDim2.new(0, 10, 0, 265)
    buttonsFrame.BackgroundColor3 = bgSec
    buttonsFrame.BorderSizePixel = 0
    buttonsFrame.Parent = MainFrame

    local bSectionCorner = Instance.new("UICorner")
    bSectionCorner.CornerRadius = UDim.new(0, 12)
    bSectionCorner.Parent = buttonsFrame

    local buttonsTitle = Instance.new("TextLabel")
    buttonsTitle.Size = UDim2.new(1, 0, 0, 35)
    buttonsTitle.BackgroundTransparency = 1
    buttonsTitle.Text = "Acciones"
    buttonsTitle.TextColor3 = textWhite
    buttonsTitle.TextScaled = true
    buttonsTitle.Font = Enum.Font.GothamSemibold
    buttonsTitle.Parent = buttonsFrame

    local btnLayout = Instance.new("UIListLayout")
    btnLayout.SortOrder = Enum.SortOrder.LayoutOrder
    btnLayout.Padding = UDim.new(0, 12)
    btnLayout.Parent = buttonsFrame

    local tpBtn = Instance.new("TextButton")
    tpBtn.Size = UDim2.new(1, 0, 0, 45)
    tpBtn.BackgroundColor3 = btnColor
    tpBtn.TextColor3 = textWhite
    tpBtn.Text = "Teleport a Jugador"
    tpBtn.TextScaled = true
    tpBtn.Font = Enum.Font.GothamBold
    tpBtn.BorderSizePixel = 0
    local tpBtnCorner = Instance.new("UICorner")
    tpBtnCorner.CornerRadius = UDim.new(0, 10)
    tpBtnCorner.Parent = tpBtn
    tpBtn.Parent = buttonsFrame

    addButtonEffects(tpBtn, btnColor, btnHover)

    tpBtn.MouseButton1Click:Connect(function()
        if selectedPlayer then
            tpTo(selectedPlayer)
        else
            notify("¡Selecciona un jugador primero!")
        end
    end)

    local copyBtn = Instance.new("TextButton")
    copyBtn.Size = UDim2.new(1, 0, 0, 45)
    copyBtn.BackgroundColor3 = btnColor
    copyBtn.TextColor3 = textWhite
    copyBtn.Text = "Copiar Skin"
    copyBtn.TextScaled = true
    copyBtn.Font = Enum.Font.GothamBold
    copyBtn.BorderSizePixel = 0
    local copyBtnCorner = Instance.new("UICorner")
    copyBtnCorner.CornerRadius = UDim.new(0, 10)
    copyBtnCorner.Parent = copyBtn
    copyBtn.Parent = buttonsFrame

    addButtonEffects(copyBtn, btnColor, btnHover)

    copyBtn.MouseButton1Click:Connect(function()
        if selectedPlayer then
            copySkin(selectedPlayer)
        else
            notify("¡Selecciona un jugador primero!")
        end
    end)

    local resetBtn = Instance.new("TextButton")
    resetBtn.Size = UDim2.new(1, 0, 0, 45)
    resetBtn.BackgroundColor3 = btnColor
    resetBtn.TextColor3 = textWhite
    resetBtn.Text = "Skin Normal"
    resetBtn.TextScaled = true
    resetBtn.Font = Enum.Font.GothamBold
    resetBtn.BorderSizePixel = 0
    local resetBtnCorner = Instance.new("UICorner")
    resetBtnCorner.CornerRadius = UDim.new(0, 10)
    resetBtnCorner.Parent = resetBtn
    resetBtn.Parent = buttonsFrame

    addButtonEffects(resetBtn, btnColor, btnHover)

    resetBtn.MouseButton1Click:Connect(function()
        resetSkin()
    end)

    -- Key Copy Button
    local keyCopyBtn = Instance.new("TextButton")
    keyCopyBtn.Size = UDim2.new(1, -20, 0, 50)
    keyCopyBtn.Position = UDim2.new(0, 10, 0, 505)
    keyCopyBtn.BackgroundColor3 = btnColor
    keyCopyBtn.TextColor3 = textWhite
    keyCopyBtn.Text = "key"
    keyCopyBtn.TextScaled = true
    keyCopyBtn.Font = Enum.Font.GothamBold
    keyCopyBtn.BorderSizePixel = 0
    local keyCopyCorner = Instance.new("UICorner")
    keyCopyCorner.CornerRadius = UDim.new(0, 10)
    keyCopyCorner.Parent = keyCopyBtn
    keyCopyBtn.Parent = MainFrame

    addButtonEffects(keyCopyBtn, btnColor, btnHover)

    keyCopyBtn.MouseButton1Click:Connect(function()
        setclipboard("https://discord.gg/7MqYajXJNf")
        notify("¡Link de Discord copiado!")
    end)

    -- Toggle
    UserInputService.InputBegan:Connect(function(key, gameProcessed)
        if gameProcessed then return end
        if key.KeyCode == Enum.KeyCode.Insert then
            MainFrame.Visible = not MainFrame.Visible
        end
    end)
end
